# --- ENTRADA (SQL Server) ---
sql_produccion_actual:
  type: spark.SparkDataset
  filepath: "/tmp/dummy_ingest" # Spark ignora esto en JDBC
  file_format: jdbc
  load_args:
    url: "jdbc:sqlserver://54.82.95.244:1433;databaseName=primar;encrypt=true;trustServerCertificate=true;"
    dbtable: "dbo.produccion_actual"  # <--- AQUÃ ESPECIFICAS LA TABLA
    driver: "com.microsoft.sqlserver.jdbc.SQLServerDriver"
    user: "${env:SQL_USER}"
    password: "${env:SQL_PASSWORD}"

# --- SALIDA (Data Lake - Bronce) ---
raw_produccion_actual:
  type: spark.SparkDataset
  filepath: data/01_raw/produccion_actual.parquet
  file_format: parquet
  save_args:
    mode: "overwrite"